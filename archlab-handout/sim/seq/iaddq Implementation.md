# `iaddq` Implementation

| Stage      | OPq rA, rB                                                                                  | irmovq V, rB                                                                                                                  | iaddq rB, V                                                                                                                      |
| ---------- | ------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------- |
| Fetch      | icode:ifun $\leftarrow M_1$[PC]<br>rA:rB $\leftarrow M_1$[PC+1]<br>valP $\leftarrow$ PC + 2 | icode:ifun $\leftarrow M_1$[PC]<br>rA:rB $\leftarrow M_1$[PC+1]<br>valC $\leftarrow M_8$[PC + 2]<br>valP $\leftarrow$ PC + 10 | icode:ifun $\leftarrow M_1$[PC]<br>F:rB $\leftarrow M_1$[PC+1]<br>valC $\leftarrow M_8$[PC + 2]<br>valP $\leftarrow$ PC + 10<br> |
| Decode     | valA $\leftarrow$ R[rA]<br>valB $\leftarrow$ R[rB]                                          |                                                                                                                               | valB $\leftarrow$ R[rB]                                                                                                          |
| Execute    | valE $\leftarrow$ valB OP valA<br>Set CC                                                    | valE $\leftarrow$ 0 + valC                                                                                                    | valE $\leftarrow$ valB + valC                                                                                                    |
| Memory     |                                                                                             |                                                                                                                               |                                                                                                                                  |
| Write back | R[rB] $\leftarrow$ valE                                                                     | R[rB] $\leftarrow$ valE                                                                                                       | R[rB] $\leftarrow$ valE                                                                                                          |
| PC update  | PC $\leftarrow$ valP                                                                        | PC $\leftarrow$ valP                                                                                                          | PC $\leftarrow$ valP                                                                                                             |
