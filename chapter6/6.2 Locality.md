# The Memory Hierarchy

## 6.2 Locality

*principle of locality*: The program tend to reference data items that are near other referenced data items or that were recently referenced themselves.
+ *temporal locality*: A memory address that is referenced once is likely to be referenced again in the near feature
+ *spatial locality*: If a memory location is referenced once, then the program is likely to reference a nearby memory location in the near feature.

Programs with good locality run faster than programs with poor locality.

### 6.2.1 Locality of References to Program Data

*stride-$k$ reference pattern*: referenced memory address follows the pattern: $\text{Address}_i = \text{Base address} + i \times k$. As the stride $k$ increases, the spatial locality decreses.


### 6.2.2 Locality of Instruction Fetches

The instructions are stored in CPU, so, we can also evaluate the locality of instruction fetches.
For example, the loop usually enjoys good spatial and temporal locality.
The small the loop body and the greater the loop iterations, the better the locality.
